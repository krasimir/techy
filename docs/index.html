<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Techy / Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../themes/techy/public/font-awesome-4.0.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="../themes/techy/public/styles.css">
    <link rel="stylesheet" href="../themes/techy/public/prism/prism.css" />
    <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Open+Sans:400,800,700' type='text/css'>
    <meta property="og:image" content="http://krasimir.github.io/techy/themes/techy/public/img/techy.jpg" />
    <meta property="og:title" content="Techy - The geeky way of writing" />
    <meta property="og:url" content="http://krasimir.github.io/techy/" />
    <meta property="og:site_name" content="Techy - The geeky way of writing" />
</head>

<body>
    <div class="techy">
        <h1 id="documentation-br-small-i-class-fa-fa-arrow-circle-o-left-i-techy-s-home-page-techy-small-">Documentation<br /><small><a href="/techy"><i class="fa fa-arrow-circle-o-left"></i> Techy's home page</a></small></h1>
        <hr>
        <div class="grid">
            <ul>
                <li><a href="#how-it-works">How it works</a>
                </li>
                <li><a href="#theming">Theming</a>
                    <ul>
                        <li><a href="#layout">Layout</a>
                        </li>
                        <li><a href="#css">CSS</a>
                        </li>
                        <li><a href="#javascript">JavaScript</a>
                        </li>
                        <li><a href="#templates">Templates</a>
                        </li>
                    </ul>
                </li>
                <li><a href="#writing-html">Writing HTML</a>
                </li>
                <li><a href="#accessing-another-page">Accessing another page</a>
                </li>
                <li><a href="#master-config">Master config</a>
                </li>
                <li><a href="#writing-your-own-functions">Writing your own functions</a>
                </li>
                <li><a href="#using-yaml-front-matter">Using Yaml Front Matter</a>
                </li>
                <li><a href="#using-techy-in-node-js-script">Using Techy in Node.js script</a>
                </li>
                <li><a href="#process-non-markdown-files">Process non-markdown files</a>
                </li>
                <li>Examples
                    <ul>
                        <li><a href="/techy/examples/rss-generation">RSS reneration</a>
                        </li>
                    </ul>
                </li>
                <li><a href="#api">API</a>
                </li>
            </ul>
        </div>
        <hr>
        <h2 id="how-it-works">How it works</h2>
        <p>First, Techy checks the current selected theme. It then converts your Markdown file to HTML. Gets the layout from the <code class="language-javascript">tpl</code> directory and replaces <code class="language-javascript">&lt;% get('content') %></code> with
            your content. It also executes the expressions in the code. They work on both places - Markdown or HTML. Like for example, <code class="language-javascript">&lt;% get('paths').root %></code> in the <code class="language-javascript">basic.html</code> is
            replaced with an empty string. That's because <code class="language-javascript">page.md</code> is located in the root of the project. If it is a file in nesting folder then the path will be set properly.</p>
        <div class="how-it-works-img"></div>

        <h2 id="theming">Theming</h2>
        <p>Once you run <code class="language-javascript">techy</code> you get a <code class="language-javascript">themes</code> folder copied. It's located in the same directory which you run the command at. There are few themes available. The <code class="language-javascript">default</code> theme
            is used if you run Techy without any parameter. To specify another one:</p>
        <pre><code class="language-javascript">techy --theme [name of your theme]
</code></pre>
        <h3 id="layout">Layout</h3>
        <p>The layout is HTML file that contains the placeholder for the content coming from your Markdown files. You are able to specify a different layout by using the following expression:</p>
        <pre><code class="language-javascript">&lt;% set('layout', 'layouts/custom-layout.html') %> 
</code></pre>
        <p>The available layouts are placed in <code class="language-javascript">/themes/[your theme]/tpl/layouts</code>. The default layout is <code class="language-javascript">empty.html</code> and it contains only the placeholder. I.e.:</p>
        <pre><code class="language-javascript">&lt;% get('content') %>
</code></pre>
        <p>If you create a <code class="language-javascript">/themes/[your theme]/tpl/layouts/custom-layout.html</code> file with the following content:</p>
        <pre><code class="language-javascript">&lt;div class="content">
    &lt;% get('content') %>
&lt;/div>
</code></pre>
        <p>And use it with the following Markdown:</p>
        <pre><code class="language-javascript">&lt;% set('layout', 'layouts/custom-layout.html') %>

# Some title

some text
</code></pre>
        <p>You will get:</p>
        <pre><code class="language-javascript">&lt;div class="content">
    &lt;h1>Some tilte&lt;/h1>
    &lt;p>some text&lt;/p>
&lt;/div>
</code></pre>
        <h3 id="css">CSS</h3>
        <p>The CSS styles could be written with plain CSS, LESS, SASS or AbsurdJS. By default Techy chooses AbsurdJS as preprocessor. If you want to keep it then have in mind that the main file is <code class="language-javascript">/themes/[your theme]/css/styles.js</code>.
            The compiled styles are always put in <code class="language-javascript">/themes/[your theme]/public</code> folder. If you want to change the default preprocessor you have to add <code class="language-javascript">TechyFile.js</code> file in the
            main project's directory with the following content:</p>
        <pre><code class="language-javascript">module.exports = function() {
    return {
        css: {
            preprocessor: [type of the preprocessor],
            index: [path to the main file, glob pattern or directory]
        }
    }
}
</code></pre>
        <h4 id="absurdjs-as-css-preprocessor">AbsurdJS as CSS preprocessor</h4>
        <p><a href="https://github.com/krasimir/gulp-absurd"><code class="language-javascript">gulp-absurd</code></a> module is used.</p>
        <pre><code class="language-javascript">module.exports = function() {
    return {
        css: {
            preprocessor: 'absurd',
            index: 'absurd/styles.js'
        }
    }
}
</code></pre>
        <h4 id="less-as-css-preprocessor">LESS as CSS preprocessor</h4>
        <p><a href="https://github.com/plus3network/gulp-less"><code class="language-javascript">gulp-less</code></a> module is used.</p>
        <pre><code class="language-javascript">module.exports = function() {
    return {
        css: {
            preprocessor: 'less',
            index: 'less/styles.less'
        }
    }
}
</code></pre>
        <h4 id="sass-as-css-preprocessor">SASS as CSS preprocessor</h4>
        <p><a href="https://github.com/dlmanning/gulp-sass"><code class="language-javascript">gulp-sass</code></a> module is used.</p>
        <pre><code class="language-javascript">module.exports = function() {
    return {
        css: {
            preprocessor: 'sass',
            index: 'sass/*.scss'
        }
    }
}
</code></pre>
        <h4 id="no-css-preprocessor-plain-css-files">No CSS preprocessor, plain CSS files</h4>
        <p>The <code class="language-javascript">index</code> property accepts glob pattern. All the files matching that pattern are concatenated.</p>
        <pre><code class="language-javascript">module.exports = function() {
    return {
        css: {
            preprocessor: 'none',
            index: 'css/**/*.css'
        }
    }
}
</code></pre>
        <h3 id="javascript">JavaScript</h3>
        <p>Techy uses <em>gulp-concat</em> and <em>gulp-uglify</em> to produce the JavaScript needed for the pages. Just put your scripts in <code class="language-javascript">/themes/[your theme]/js</code> directory and they will be merged into <code class="language-javascript">/themes/[your theme]/public/scripts.js</code>
        </p>
        <h3 id="templates">Templates</h3>
        <p>No matter what you do you will need some partial system. I.e. save a piece of code and inject it in several places. For such cases, Techy provides the <code class="language-javascript">template</code> method. The function searches for templates
            in <code class="language-javascript">/themes/[your theme]/tpl</code> directory. For example:</p>
        <pre><code class="language-javascript">&lt;% template('footer.html') %>
</code></pre>
        <p>Will check for <code class="language-javascript">/themes/[your theme]/tpl/footer.html</code> or just for <code class="language-javascript">/footer.html</code> and if it finds the file will import its content.</p>
        <h2 id="writing-html">Writing HTML</h2>
        <p>You may need to add a valid HTML markup to the page. But at the same time continue writing Markdown between your tags. Here is a limited feature that you could use.</p>
        <div class="grid grid-2">
            <div class="grid-column code-left">
                <p>The following code:</p>
                <pre><code class="language-javascript">.foo bar

Sample text here.

.
</code></pre>
            </div>
            <div class="grid-column">
                <p>Is converted to</p>
                <pre><code class="language-javascript">&lt;div class="foo bar">
    &lt;p>Sample text here.&lt;/p>
&lt;/div>
</code></pre>
            </div>
        </div>
        <h2 id="accessing-another-page">Accessing another page</h2>
        <p>By using <code class="language-javascript">&lt; set('key', 'value') %></code> you are basically creating a variable for the current page. If you give it a name, you are able to access all its properties from the other pages. For example:</p>
        <pre><code class="language-javascript">// A.md
&lt;% set('name', 'PageA') %>
&lt;% set('numOfProducts', 42) %>

// B.md
There are &lt;% page('PageA').get('numOfProducts') %> products in total.
</code></pre>
        <h2 id="master-config">Master config</h2>
        <p>There is a way to define variables that will be available for all the pages. Create a file <code class="language-javascript">TechyFile.js</code> in the main project's directory. The directory where you run the <code class="language-javascript">techy</code> command.
            Here is an example:</p>
        <pre><code class="language-javascript">// TechyFile.js
module.exports = function() {
    return {
        globalSetting: 'I\'m a global'
    }
}

// page.md
The value of the global setting is &lt;% globalSetting %>.
</code></pre>
        <p>The function that is exported should return an object. The properties of that object are defined as global variables in your pages.</p>
        <p>There are few properties which have special meaning.</p>
        <div class="grid">
            <ul>
                <li><code class="language-javascript">css</code> - it defines the used CSS preprocessor. Read more about this <a href="#css">here</a>.</li>
                <li><code class="language-javascript">process</code> - gives you ability to process non-markdown files. More info <a href="#process-non-markdown-files">here</a>.</li>
            </ul>
        </div>
        <h2 id="writing-your-own-functions">Writing your own functions</h2>
        <p>Every JavaScript file which ends on <code class="language-javascript">techyFile.js</code> is considered as a Techy function. For example:</p>
        <pre><code class="language-javascript">// myown.techyFile.js
module.exports = function() {
    return 'My Name is ' + this.get('username');
}

// page.md
&lt;% set('username', 'John') %>
Hi, how are you &lt;% myown() %>!
</code></pre>
        <p><code class="language-javascript">this</code> keyword inside the function points to the page. So, all the methods which you normally use in the Markdown file are available.</p>
        <h2 id="using-yaml-front-matter">Using Yaml Front Matter</h2>
        <p>If you ever used <a href="http://jekyllrb.com/">Jekyll</a> you are probably familiar with <a href="http://jekyllrb.com/docs/frontmatter/">Yaml Front Matter</a>. It gives you the ability to define settings for the current page. All you have to do
            is to put some Yaml in the beginning of the file wrapped in <code class="language-javascript">---</code>. For example:</p>
        <pre><code class="language-javascript">---
username: Derek Worthen
age: young
contact: 
 email: email@domain.com
 address: some location
pets: 
 - cats
 - dogs
 - bats
match: !!js/regexp /pattern/gim
run: !!js/function function(a) { return a.toUpperCase(); }
---

# Hello world

Hello, my name is &lt;% get('username') %>.
My address is &lt;% get('contact').address %>.
I love &lt;% get('run')(get('pets')[1]) %>.
</code></pre>
        <p>The rows in the beginning are translated to the following JSON:</p>
        <pre><code class="language-javascript">{ 
    username: 'Derek Worthen',
    age: 'young',
    contact: { email: 'email@domain.com', address: 'some location' },
    pets: [ 'cats', 'dogs', 'bats' ],
    match: /pattern/gim,
    run: function(a) { return a.toUpperCase(); }
}
</code></pre>
        <p>And later all the properties of the above object are set as properties of the current page. That's why the result is:</p>
        <pre><code class="language-javascript">&lt;h1 id="hello-world">Hello world&lt;/h1>
&lt;p>
    Hello, my name is Derek Worthen. 
    My address is some location.
    I love DOGS.
&lt;/p>
</code></pre>
        <h2 id="using-techy-in-node-js-script">Using Techy in Node.js script</h2>
        <p>Add <code class="language-javascript">techy</code> to your dependencies in the <code class="language-javascript">package.json</code> file. After that simply initialize the module. For example:</p>
        <pre><code class="language-javascript">var Techy = require('techy');
Techy(__dirname + '/docs', 'default', function() {
    this.watchFiles();
}, { myprop: 'my value' });
</code></pre>
        <p><code class="language-javascript">__dirname + '/docs'</code> is the directory which you want to be processed by Techy. <code class="language-javascript">default</code> is the theme.</p>
        <p>The third parameter is a function which is called once the module finishes its initial compilation. It's called with the context of the main's Techy class and there are few functions which you may use:</p>
        <div class="grid">
            <ul>
                <li><code class="language-javascript">watchFiles</code>
                </li>
                <li><code class="language-javascript">compilePages</code>
                </li>
                <li><code class="language-javascript">compileCSS</code>
                </li>
                <li><code class="language-javascript">compileJS</code>
                </li>
            </ul>
        </div>
        <p>The object which you pass after that callback is the <a href="#master-config">master configuration</a> object.</p>
        <h2 id="process-non-markdown-files">Process non-markdown files</h2>
        <p>The library could process not only Markdown, but any other file. However, you should describe these files in the <a href="#master-config"><code class="language-javascript">TechyFile.js</code></a> file. The rule is that Techy removes the extension
            of your file and saves a new one with the new content. For example:</p>
        <pre><code class="language-javascript">header.css.techy -> header.css
my-awesome.styles.css.blah -> my-awesome.styles.css
scripts.js.tttt -> scripts.js
</code></pre>
        <p>Here is an example how <code class="language-javascript">TechyFile.js</code> may look like:</p>
        <pre><code class="language-javascript">module.exports = function() {
    return {
        process: [
            '**/*.techy',
            'B/*.blah',
            'A/**/styles.css.ttt'
        ]
    }
}
</code></pre>
        <p>The trick is to set an array of Glob patters to <code class="language-javascript">process</code> property.</p>
        <hr>
        <!------------------------------------------------------------------------------------------ -->
        <!------------------------------------------------------------------------------------------ -->
        <!------------------------------------------------------------------------------------  API  -->
        <!------------------------------------------------------------------------------------------ -->
        <!------------------------------------------------------------------------------------------ -->

        <h2 id="api">API</h2>
        <p>Here is a list with all the build-in methods which you can use.</p>
        <!-- ---------------------------------- set -->

        <div class="grid grid-2">
            <div class="grid-column">
                <blockquote>
                    <p>set(key, value)</p>
                </blockquote>
                <p>It sets a variable to the current page. There are few special keys which you may use:</p>
                <ul>
                    <li>layout - sets the layout of the page</li>
                    <li>date - sets the page's publish date</li>
                </ul>
            </div>
            <div class="grid-column">
                <pre><code class="language-javascript">&lt;% set('title', 'The page title') %>
&lt;% set('layout', 'layouts/basic') %>
// day-month-year
&lt;% set('date', '22-02-2014') %>
</code></pre>
            </div>
        </div>
        <!-- ---------------------------------- get -->

        <div class="grid grid-2">
            <div class="grid-column">
                <blockquote>
                    <p>get(key)</p>
                </blockquote>
                <p>Gets a variable initialized with <code class="language-javascript">set</code> function.</p>
            </div>
            <div class="grid-column">
                <pre><code class="language-javascript">The title is &lt;% get('title') %>.
</code></pre>
            </div>
        </div>
        <!-- ---------------------------------- template -->

        <div class="grid grid-2">
            <div class="grid-column">
                <blockquote>
                    <p>numofpages()</p>
                </blockquote>
                <p>Returns the number of the pages.</p>
            </div>
            <div class="grid-column">
                <pre><code class="language-javascript">There are &lt;% numofpages() %> pages.
</code></pre>
            </div>
        </div>
        <!-- ---------------------------------- template -->

        <div class="grid grid-2">
            <div class="grid-column">
                <blockquote>
                    <p>template(file, data)</p>
                </blockquote>
                <p>Injects a HTML content. The second parameter is an hash object. Data which is applied to the template.</p>
            </div>
            <div class="grid-column">
                <pre><code class="language-javascript">// tpl/partials/footer.html
&lt;div class="footer">
    &lt;p>&lt;% footerText %>&lt;/p>
&lt;/footer>

// index.md
&lt;% template('partials/footer', { footerText: 'sample text' }) %>
</code></pre>
            </div>
        </div>
        <!-- ---------------------------------- linkto -->

        <div class="grid grid-2">
            <div class="grid-column">
                <blockquote>
                    <p>linkto(page)</p>
                </blockquote>
                <p>Get a path to specific page</p>
            </div>
            <div class="grid-column">
                <pre><code class="language-javascript">// inner/A/B/page.md
&lt;% set('name', 'MyPage') %>

// index.md
&lt;a href="&lt;% linkto('MyPage') %>">page&lt;/a>

// resulted index.html
&lt;a href="inner/A/B/page.html">page&lt;/a>
</code></pre>
            </div>
        </div>
        <!-- ---------------------------------- page -->

        <div class="grid grid-2">
            <div class="grid-column">
                <blockquote>
                    <p>page(page)</p>
                </blockquote>
                <p>Get an access to another page</p>
            </div>
            <div class="grid-column">
                <pre><code class="language-javascript">// A.md
&lt;% set('name', 'MyPage') %>
&lt;% set('somethingCustom', 'value') %>

// B.md
&lt;% page('MyPage').get('somethingCustom') %>
</code></pre>
            </div>
        </div>
        <!-- ---------------------------------- pages -->

        <div class="grid grid-2">
            <div class="grid-column">
                <blockquote>
                    <p>page(page)</p>
                </blockquote>
                <p>Get an access to all the pages in the project. Returns an array.</p>
            </div>
            <div class="grid-column">
                <pre><code class="language-javascript">// page.md
&lt;% pages().length %>
</code></pre>
            </div>
        </div>
        <hr>
        <p>
            <div class="social">
                <!-- Twitter --><a href="https://twitter.com/share" class="twitter-share-button" data-via="KrasimirTsonev" data-hashtags="Techy">Tweet</a>
                <script>
                    ! function(d, s, id) {
                        var js, fjs = d.getElementsByTagName(s)[0],
                            p = /^http:/.test(d.location) ? 'http' : 'https';
                        if (!d.getElementById(id)) {
                            js = d.createElement(s);
                            js.id = id;
                            js.src = p + '://platform.twitter.com/widgets.js';
                            fjs.parentNode.insertBefore(js, fjs);
                        }
                    }(document, 'script', 'twitter-wjs');
                </script>
                <!-- GitHub -->
                <iframe src="http://ghbtns.com/github-btn.html?user=krasimir&repo=techy&type=watch&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>
            </div>
            <div class="grid footer-small">The page which you are looking right now is also generated with Techy.
                <br />If you are interested, checkout how the code looks like <a href="https://github.com/krasimir/techy/tree/gh-pages">here</a>.
                <br />
                <br />Made with <a href="http://gulpjs.com/">Gulp</a> and <a href="http://absurdjs.com">AbsurdJS</a>.</div>
            <script>
                (function(i, s, o, g, r, a, m) {
                    i['GoogleAnalyticsObject'] = r;
                    i[r] = i[r] || function() {
                        (i[r].q = i[r].q || []).push(arguments)
                    }, i[r].l = 1 * new Date();
                    a = s.createElement(o), m = s.getElementsByTagName(o)[0];
                    a.async = 1;
                    a.src = g;
                    m.parentNode.insertBefore(a, m)
                })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
                ga('create', 'UA-1621908-4', 'krasimir.github.io');
                ga('send', 'pageview');
            </script>
        </p>
    </div>
    <script src="../themes/techy/public/prism/prism.js"></script>
    <script src="../themes/techy/public/absurd.organic.min.js"></script>
    <script src="../themes/techy/public/absurd.min.js"></script>
    <script src="../themes/techy/public/scripts.js"></script>
</body>

</html>